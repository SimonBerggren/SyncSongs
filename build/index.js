var b=Object.create;var m=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty;var W=e=>m(e,"__esModule",{value:!0});var $=(e,o,n,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of C(o))!D.call(e,t)&&(n||t!=="default")&&m(e,t,{get:()=>o[t],enumerable:!(i=v(o,t))||i.enumerable});return e},l=(e,o)=>$(W(m(e!=null?b(E(e)):{},"default",!o&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var s=l(require("fs")),y=l(require("path"));var p=l(require("readline")),r=p.default.createInterface({input:process.stdin,output:process.stdout});var h=()=>new Promise((e,o)=>{r.question(`Where is your badsongs.txt? Leave empty if this script is run inside your Clone Hero folder
`,n=>{let t=`${n||y.default.resolve(__dirname)}\\badsongs.txt`;if(!s.default.existsSync(t))return o(`Couldn't find badsongs.txt at ${t}`);let P=s.default.readFileSync(t).toString().split(`
`),u=[];return P.forEach(a=>{if(!a||a.startsWith("ERROR"))return;let f=/\(.*\)/.exec(a);if(f){let d=f[0].slice(1,-1);if(!s.default.existsSync(d)){u.push(f[0]);return}console.log("deleting",d),S(d)}}),e(u)})}),S=e=>{s.default.existsSync(e)&&(s.default.readdirSync(e).forEach(function(o){var n=e+"\\"+o;s.default.lstatSync(n).isDirectory()?S(n):s.default.unlinkSync(n)}),s.default.rmdirSync(e))};var g=l(require("fs"));var x=()=>{r.question("Where are your songs? Leave empty if this script is run inside your songs folder: ",e=>{let o=e||"F:Games/Clone Hero/Songs";console.log(o),g.default.readdir(o,void 0,(n,i)=>{i.forEach(t=>{let c=`${o}/${t}`;g.default.lstatSync(c).isDirectory()&&console.log(c)})})})};var q=async e=>{if(e==="clean"){try{let o=await h();o.length?(console.log("Cleaning complete, unable to delete the following files:"),o.forEach(n=>console.log(n))):console.log("Cleaning complete, no files left to delete :)")}catch(o){console.error(o)}process.exit()}else e==="sync"?x():console.log("Invalid command",e)};r.question("What do you want to do?",e=>{q(e)});
